{
    "name": "backend-strong-auth",
    "version": "1.0.0",
    "description": "Backend middleware for keycloak",
    "author": "Alberto Ielpo",
    "private": true,
    "license": "MIT",
    "scripts": {
        "build": "nest build",
        "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
        "start": "nest start",
        "start:dev": "nest start --watch",
        "start:debug": "nest start --debug --watch",
        "start:prod": "node dist/src/main",
        "start:devtool": "nest start --debug --watch --exec \"node -r nestjs-devtools-loader/register\"",
        "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
        "test": "jest --no-cache --detectOpenHandles --runInBand --forceExit --randomize",
        "test:watch": "jest --watch --no-cache --detectOpenHandles --runInBand --forceExit --randomize",
        "test:cov": "jest --coverage",
        "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand --randomize",
        "test:e2e": "jest --config ./test/jest-e2e.json",
        "swagger": "mkdir -p generated && npm run build && ONLY_SWAGGER_SPEC=true SDK_CLIENT=microservice-sdk npm run start",
        "swagger:windows": "rm -rf generated && mkdir generated && set \"ONLY_SWAGGER_SPEC=true\" && set \"SDK_CLIENT=microservice-sdk\" && npm run build && npm run start",
        "generate-sdk": "npm run swagger && rm -rf generated/out && openapi-generator-cli generate -i generated/swagger-spec-microservice-sdk.json -g typescript-fetch -o generated/out",
        "generate-sdk:windows": "npm run swagger:windows && rm -rf generated/out && openapi-generator-cli generate -i generated/swagger-spec-microservice-sdk.json -g typescript-fetch -o generated/out",
        "audit:prod": "npm audit --omit=dev",
        "check": "npm run build && npm run lint && npm run test && npm run audit:prod && npm run generate-sdk",
        "check:windows": "npm run build && npm run lint && npm run test && npm run audit:prod && npm run generate-sdk:windows"
    },
    "dependencies": {
        "@fastify/static": "~8.2.0",
        "@nestjs/common": "~11.0.16",
        "@nestjs/config": "~4.0.2",
        "@nestjs/core": "~11.1.6",
        "@nestjs/mongoose": "~11.0.3",
        "@nestjs/platform-fastify": "~11.1.6",
        "@nestjs/schedule": "~5.0.1",
        "@nestjs/swagger": "~11.2.0",
        "class-transformer": "~0.5.1",
        "class-validator": "~0.14.1",
        "ioredis": "~5.7.0",
        "migrate-mongo": "~12.1.3",
        "mongoose": "~8.18.1",
        "nestjs-pino": "~4.4.0",
        "pino-pretty": "~13.1.1",
        "pino-roll": "~3.1.0",
        "reflect-metadata": "~0.2.2",
        "rxjs": "~7.8.2"
    },
    "devDependencies": {
        "@nestjs/cli": "~11.0.10",
        "@nestjs/schematics": "~11.0.7",
        "@nestjs/testing": "~11.1.6",
        "@openapitools/openapi-generator-cli": "~2.23.3",
        "@types/jest": "~29.5.14",
        "@types/jsonwebtoken": "~9.0.9",
        "@types/migrate-mongo": "~10.0.5",
        "@types/node": "~22.14.1",
        "@typescript-eslint/eslint-plugin": "~7.18.0",
        "@typescript-eslint/parser": "~7.18.0",
        "eslint": "~8.57.1",
        "eslint-config-airbnb-base": "~15.0.0",
        "eslint-config-airbnb-typescript": "~18.0.0",
        "eslint-config-prettier": "~9.1.0",
        "eslint-plugin-prettier": "~5.2.3",
        "fastify": "~5.3.2",
        "jest": "~29.7.0",
        "mongodb-memory-server": "~10.1.4",
        "nestjs-devtools-loader": "~1.2.0",
        "prettier": "~3.5.3",
        "source-map-support": "~0.5.21",
        "ts-jest": "~29.3.2",
        "ts-loader": "~9.5.2",
        "ts-node": "~10.9.2",
        "tsconfig-paths": "~4.2.0",
        "typescript": "~5.8.3"
    },
    "jest": {
        "moduleFileExtensions": [
            "js",
            "json",
            "ts"
        ],
        "rootDir": "src",
        "testRegex": ".*\\.spec\\.ts$",
        "transform": {
            "^.+\\.(t|j)s$": "ts-jest"
        },
        "collectCoverageFrom": [
            "**/*.(t|j)s"
        ],
        "coveragePathIgnorePatterns": [
            "main.ts",
            "\\.module.ts",
            "\\.dto.ts",
            ".*/decorators/swagger/.*\\.decorator\\.ts"
        ],
        "coverageDirectory": "../coverage",
        "testEnvironment": "node",
        "testTimeout": 10000,
        "setupFilesAfterEnv": [
            "../jest.setup.ts"
        ]
    },
    "engines": {
        "node": ">=22",
        "npm": ">=10"
    }
}